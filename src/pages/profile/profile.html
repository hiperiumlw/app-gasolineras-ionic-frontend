<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>
  <ion-navbar color="danger">
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>



    <ion-buttons end>
      <!--<button ion-button icon-only (click)="openModal()">-->
      <!--<ion-icon name="refresh"></ion-icon>-->
      <!--</button>-->
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content>
  <ion-row class="profile-header" justify-content-center>
    <ion-col>
      <ion-avatar>
        <img src="assets/imgs/logo.png">
      </ion-avatar>
      <h3>Usuario</h3>
      <p>@email</p>
    </ion-col>
  </ion-row>
  <ion-segment [(ngModel)]="option" color="danger">
    <ion-segment-button value="reviews">
      Reviews
    </ion-segment-button>
    <ion-segment-button value="favourites">
      Favoritos
    </ion-segment-button>
    <ion-segment-button value="lastvisited">
      Últimos Vistos
    </ion-segment-button>
  </ion-segment>

  <div [ngSwitch]="option">
    <ion-list *ngSwitchCase="'reviews'">
      <ion-item padding text-center *ngIf="(reviews).length === 0">
        <p>No tiene ningúna review publicada!</p>
      </ion-item>
      <ion-list *ngIf="(reviews).length > 0">
        <ion-item *ngFor="let review of reviews">
          <ion-avatar item-start>
            <img src="../../assets/imgs/logo.png">
          </ion-avatar>
          <div style="display: inline-flex">
            <ion-icon name="star" *ngFor="let p of ' '.repeat(review.Puntuacion).split('')"></ion-icon>
          </div>
          <p>{{review.Comentario}}</p>
          <ion-note item-end>3:43 pm</ion-note>
        </ion-item>
      </ion-list>
    </ion-list>

    <ion-list *ngSwitchCase="'favourites'">
      <ion-item padding text-center *ngIf="(favourites).length === 0">
        <p>No tiene ningúna gasolinera en favoritos!</p>
      </ion-item>
      <ion-card *ngFor="let fuelstation of favourites">
        <ion-item>
          <ion-icon name="pin" item-start large color="danger"></ion-icon>
          <h2>{{fuelstation.name}}</h2>
          <p>{{fuelstation.schedule}}</p>
        </ion-item>

        <ion-item>
          <span item-left>{{fuelstation.distance}}</span>
          <span item-left>{{fuelstation.price}}€/L</span>
          <button ion-button icon-left outline item-end color="details" (click)="deleteFavourite(fuelstation)">
            <ion-icon name="trash"></ion-icon>
            Eliminar
          </button>
          <button ion-button icon-left outline item-end (click)="openGoogleMaps(fuelstation.position,fuelstation.name)">
            <ion-icon name="navigate"></ion-icon>
            Llévame
          </button>
        </ion-item>
      </ion-card>
    </ion-list>

    <ion-list *ngSwitchCase="'lastvisited'">
      <ion-item>
        <ion-thumbnail item-start>
          <img src="assets/img/thumbnail-duckling-1.jpg">
        </ion-thumbnail>
        <h2>Daffy</h2>
      </ion-item>
      <ion-item>
        <ion-thumbnail item-start>
          <img src="assets/img/thumbnail-duckling-2.jpg">
        </ion-thumbnail>
        <h2>Huey</h2>
      </ion-item>
      <ion-item>
        <ion-thumbnail item-start>
          <img src="assets/img/thumbnail-duckling-3.jpg">
        </ion-thumbnail>
        <h2>Dewey</h2>
      </ion-item>
      <ion-item>
        <ion-thumbnail item-start>
          <img src="assets/img/thumbnail-duckling-4.jpg">
        </ion-thumbnail>
        <h2>Louie</h2>
      </ion-item>
    </ion-list>
  </div>
</ion-content>